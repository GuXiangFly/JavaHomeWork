package cn.guxiangfly.ebay.tingxian;

import com.sun.org.apache.bcel.internal.generic.NEW;
import com.sun.org.apache.regexp.internal.RE;
import org.codehaus.jettison.json.JSONArray;
import org.codehaus.jettison.json.JSONObject;
import org.codehaus.jettison.json.JSONString;

import javax.security.auth.x500.X500Principal;
import java.io.FileOutputStream;
import java.io.FileWriter;
import java.io.IOException;
import java.util.*;
import java.util.regex.Matcher;
import java.util.regex.Pattern;

/**
 * @author: xianggu@ebay.com
 * @date : 2018 7/30/18
 * @desc : JavaHomeWork
 */
public class JsonToObject {
    public static String jsonstring = "[\n" +
            "\t\t\t\t{\n" +
            "\t\t\t\t\t\"200\": true, \n" +
            "\t\t\t\t\t\"5170779320\": true,\n" +
            "\t\t\t\t\t\"{\\\"responseStatus\\\":\\\"OK\\\",\\\"flow\\\":{\\\"flow_id\\\":5246552666,\\\"rrp_client_id\\\":\\\"RISK\\\",\\\"external_ref_unique_id\\\":\\\"276570535010\\\",\\\"external_ref_id\\\":\\\"5170779320\\\",\\\"order_id\\\":\\\"123069689390-1946668188002!140000164939869\\\",\\\"flow_name\\\":\\\"seller_refund_via_invoice_for_risk\\\",\\\"status\\\":\\\"SUCCESS\\\",\\\"current_activity_id\\\":5246712836,\\\"activities\\\":[{\\\"activity_id\\\":5246712836,\\\"contract\\\":{\\\"contract_id\\\":\\\"5235617930\\\",\\\"contract_type\\\":\\\"REFUND\\\",\\\"contract_source\\\":\\\"RMS\\\",\\\"contract_status\\\":\\\"SUCCESS\\\",\\\"parent_contract\\\":null,\\\"referencedContracts\\\":[{\\\"contract_id\\\":\\\"5231780381\\\",\\\"contract_type\\\":\\\"RECOUP\\\",\\\"contract_source\\\":\\\"RMS\\\",\\\"contract_status\\\":\\\"SUCCESS\\\",\\\"parent_contract\\\":null,\\\"referencedContracts\\\":[{\\\"contract_id\\\":\\\"123069689390-1946668188002!140000183296011\\\",\\\"contract_type\\\":\\\"PAYOUT\\\",\\\"contract_source\\\":\\\"OMS\\\",\\\"contract_status\\\":\\\"SUCCESS\\\",\\\"parent_contract\\\":null,\\\"referencedContracts\\\":[],\\\"attributes\\\":[{\\\"name\\\":\\\"FLOW_NAME\\\",\\\"value\\\":\\\"buyer_payout_for_ebp\\\"}],\\\"priceLines\\\":[],\\\"collections\\\":[],\\\"distributions\\\":[],\\\"requestedAmount\\\":{\\\"currency\\\":\\\"GBP\\\",\\\"value\\\":0.99},\\\"actualAmount\\\":{\\\"currency\\\":\\\"GBP\\\",\\\"value\\\":0.99},\\\"client\\\":\\\"EBP\\\",\\\"rrpActivity\\\":5229795641,\\\"referencedId\\\":\\\"123069689390-1946668188002!140000183296011\\\"}],\\\"attributes\\\":[{\\\"name\\\":\\\"INVOICE_APP_TYPE\\\",\\\"value\\\":\\\"12\\\"},{\\\"name\\\":\\\"INVOICE_CHARGE_TYPE\\\",\\\"value\\\":\\\"395\\\"},{\\\"name\\\":\\\"FLOW_NAME\\\",\\\"value\\\":\\\"recoup_via_invoice_for_risk\\\"}],\\\"priceLines\\\":[{\\\"itemId\\\":\\\"123069689390\\\",\\\"transactionId\\\":\\\"1946668188002\\\",\\\"orderId\\\":null,\\\"amount\\\":{\\\"currency\\\":\\\"GBP\\\",\\\"value\\\":0.99},\\\"type\\\":\\\"ITEM_COST\\\"}],\\\"collections\\\":[{\\\"attributes\\\":[],\\\"priceLines\\\":[],\\\"userId\\\":\\\"1637156670\\\",\\\"totalAmount\\\":null,\\\"referenceId\\\":null}],\\\"distributions\\\":[{\\\"attributes\\\":[],\\\"priceLines\\\":[],\\\"userId\\\":\\\"EBAY\\\",\\\"totalAmount\\\":null,\\\"referenceId\\\":null}],\\\"requestedAmount\\\":{\\\"currency\\\":\\\"GBP\\\",\\\"value\\\":0.99},\\\"actualAmount\\\":{\\\"currency\\\":\\\"GBP\\\",\\\"value\\\":0.99},\\\"client\\\":\\\"RISK\\\",\\\"rrpActivity\\\":5241619362,\\\"referencedId\\\":\\\"5231780381\\\"}],\\\"attributes\\\":[{\\\"name\\\":\\\"INVOICE_APP_TYPE\\\",\\\"value\\\":\\\"12\\\"},{\\\"name\\\":\\\"INVOICE_CHARGE_TYPE\\\",\\\"value\\\":\\\"396\\\"},{\\\"name\\\":\\\"INVOICE_CREDIT_REASON_CODE\\\",\\\"value\\\":\\\"147\\\"},{\\\"name\\\":\\\"FLOW_NAME\\\",\\\"value\\\":\\\"seller_refund_via_invoice_for_risk\\\"}],\\\"priceLines\\\":[{\\\"itemId\\\":\\\"123069689390\\\",\\\"transactionId\\\":\\\"1946668188002\\\",\\\"orderId\\\":null,\\\"amount\\\":{\\\"currency\\\":\\\"GBP\\\",\\\"value\\\":0.99},\\\"type\\\":\\\"ITEM_COST\\\"}],\\\"collections\\\":[],\\\"distributions\\\":[],\\\"requestedAmount\\\":{\\\"currency\\\":\\\"GBP\\\",\\\"value\\\":0.99},\\\"actualAmount\\\":{\\\"currency\\\":\\\"GBP\\\",\\\"value\\\":0.99},\\\"client\\\":\\\"RISK\\\",\\\"rrpActivity\\\":5246712836,\\\"referencedId\\\":\\\"5235617930\\\"},\\\"status\\\":\\\"SUCCESS\\\",\\\"amount\\\":{\\\"currency\\\":\\\"GBP\\\",\\\"value\\\":0.99},\\\"type\\\":\\\"REFUND_VIA_INVOICE\\\",\\\"transactions\\\":[{\\\"transaction_id\\\":5138399490,\\\"payment_ref_id\\\":\\\"425413511-6-0\\\",\\\"payment_ref_type\\\":\\\"PMT_TRANSACTION_ID\\\",\\\"status\\\":\\\"SUCCESS\\\",\\\"collection_user_id\\\":null,\\\"distribution_user_id\\\":null,\\\"amount\\\":{\\\"currency\\\":\\\"GBP\\\",\\\"value\\\":0.99}}],\\\"attributes\\\":[]}],\\\"links\\\":[]}}\": true,\n" +
            "\t\t\t\t\t\"Check if status code is 200\": true\n" +
            "\t\t\t\t},\n" +
            "\t\t\t\t{\n" +
            "\t\t\t\t\t\"400\": true,\n" +
            "\t\t\t\t\t\"5172616999\": true,\n" +
            "\t\t\t\t\t\"{\\\"errorMessage\\\":{\\\"error\\\":[{\\\"errorId\\\":400007,\\\"domain\\\":\\\"RRP\\\",\\\"subdomain\\\":\\\"RRP\\\",\\\"severity\\\":\\\"ERROR\\\",\\\"category\\\":\\\"APPLICATION\\\",\\\"message\\\":\\\"Validation Failed. - Depending data status is failure for 273888109018\\\",\\\"actionToTake\\\":\\\"CORRECTINPUTDATA\\\"}]},\\\"extension\\\":[{\\\"name\\\":\\\"stacktrace\\\",\\\"contentType\\\":\\\"text/plain\\\",\\\"any\\\":[\\\"com.ebay.mmp.rrp.core.exception.ValidateException: Depending data status is failure for 273888109018\\\\n\\\\tat com.ebay.mmp.rrp.core.action.premoneymovement.FindRefDataAction.findRefFlow(FindRefDataAction.java:229)\\\\n\\\\tat com.ebay.mmp.rrp.core.action.premoneymovement.FindRefDataAction.buildPaymentDetailEntity(FindRefDataAction.java:56)\\\\n\\\\tat com.ebay.mmp.rrp.core.activity.RrpActivity.executeRrpActivity(RrpActivity.java:92)\\\\n\\\\tat com.ebay.mmp.rrp.core.workflow.jsonconfig.WorkflowActivityConfig.executeActivity(WorkflowActivityConfig.java:121)\\\\n\\\\tat com.ebay.mmp.rrp.core.workflow.jsonconfig.WorkflowActivityConfig.execute(WorkflowActivityConfig.java:106)\\\\n\\\\tat com.ebay.mmp.rrp.core.workflow.jsonconfig.WorkflowConfig.execute(WorkflowConfig.java:35)\\\\n\\\\tat com.ebay.mmp.rrp.rrpsvc.resources.processors.RRPFlowProcessor.process(RRPFlowProcessor.java:93)\\\\n\\\\tat com.ebay.mmp.rrp.rrpsvc.resources.FlowResource.recoveryFlow(FlowResource.java:191)\\\\n\\\\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\\\n\\\\tat sun.refl\\\"]}],\\\"responseStatus\\\":\\\"BAD_REQUEST\\\",\\\"flow\\\":{\\\"flow_id\\\":5247976552,\\\"rrp_client_id\\\":\\\"RISK\\\",\\\"external_ref_unique_id\\\":\\\"280285963018\\\",\\\"external_ref_id\\\":\\\"5172616999\\\",\\\"order_id\\\":\\\"112947585561-1812107221001!150000170738635\\\",\\\"flow_name\\\":\\\"seller_refund_via_invoice_for_risk\\\",\\\"status\\\":\\\"FAILURE\\\",\\\"current_activity_id\\\":5248139948,\\\"activities\\\":[{\\\"activity_id\\\":5248139948,\\\"contract\\\":{\\\"contract_id\\\":\\\"5236679806\\\",\\\"contract_type\\\":\\\"REFUND\\\",\\\"contract_source\\\":\\\"RMS\\\",\\\"contract_status\\\":\\\"CANCELED\\\",\\\"parent_contract\\\":null,\\\"referencedContracts\\\":[],\\\"attributes\\\":[{\\\"name\\\":\\\"INVOICE_APP_TYPE\\\",\\\"value\\\":\\\"12\\\"},{\\\"name\\\":\\\"INVOICE_CHARGE_TYPE\\\",\\\"value\\\":\\\"396\\\"},{\\\"name\\\":\\\"INVOICE_CREDIT_REASON_CODE\\\",\\\"value\\\":\\\"147\\\"},{\\\"name\\\":\\\"FLOW_NAME\\\",\\\"value\\\":\\\"seller_refund_via_invoice_for_risk\\\"}],\\\"priceLines\\\":[{\\\"itemId\\\":\\\"112947585561\\\",\\\"transactionId\\\":\\\"1812107221001\\\",\\\"orderId\\\":null,\\\"amount\\\":{\\\"currency\\\":\\\"GBP\\\",\\\"value\\\":0.99},\\\"type\\\":\\\"ITEM_COST\\\"}],\\\"collections\\\":[],\\\"distributions\\\":[],\\\"requestedAmount\\\":{\\\"currency\\\":\\\"GBP\\\",\\\"value\\\":0.99},\\\"actualAmount\\\":null,\\\"client\\\":\\\"RISK\\\",\\\"rrpActivity\\\":5248139948,\\\"referencedId\\\":\\\"5236679806\\\"},\\\"status\\\":\\\"FAILURE\\\",\\\"amount\\\":{\\\"currency\\\":\\\"GBP\\\",\\\"value\\\":0.99},\\\"type\\\":\\\"REFUND_VIA_INVOICE\\\",\\\"transactions\\\":[],\\\"attributes\\\":[]}],\\\"links\\\":[]}}\": true,\n" +
            "\t\t\t\t\t\"Check if status code is 200\": false\n" +
            "\t\t\t\t},\n" +
            "\t\t\t\t{\n" +
            "\t\t\t\t\t\"400\": true,\n" +
            "\t\t\t\t\t\"5171576929\": true,\n" +
            "\t\t\t\t\t\"{\\\"errorMessage\\\":{\\\"error\\\":[{\\\"errorId\\\":400007,\\\"domain\\\":\\\"RRP\\\",\\\"subdomain\\\":\\\"RRP\\\",\\\"severity\\\":\\\"ERROR\\\",\\\"category\\\":\\\"APPLICATION\\\",\\\"message\\\":\\\"Validation Failed. - Depending data status is failure for 268758191015\\\",\\\"actionToTake\\\":\\\"CORRECTINPUTDATA\\\"}]},\\\"extension\\\":[{\\\"name\\\":\\\"stacktrace\\\",\\\"contentType\\\":\\\"text/plain\\\",\\\"any\\\":[\\\"com.ebay.mmp.rrp.core.exception.ValidateException: Depending data status is failure for 268758191015\\\\n\\\\tat com.ebay.mmp.rrp.core.action.premoneymovement.FindRefDataAction.findRefFlow(FindRefDataAction.java:229)\\\\n\\\\tat com.ebay.mmp.rrp.core.action.premoneymovement.FindRefDataAction.buildPaymentDetailEntity(FindRefDataAction.java:56)\\\\n\\\\tat com.ebay.mmp.rrp.core.activity.RrpActivity.executeRrpActivity(RrpActivity.java:92)\\\\n\\\\tat com.ebay.mmp.rrp.core.workflow.jsonconfig.WorkflowActivityConfig.executeActivity(WorkflowActivityConfig.java:121)\\\\n\\\\tat com.ebay.mmp.rrp.core.workflow.jsonconfig.WorkflowActivityConfig.execute(WorkflowActivityConfig.java:106)\\\\n\\\\tat com.ebay.mmp.rrp.core.workflow.jsonconfig.WorkflowConfig.execute(WorkflowConfig.java:35)\\\\n\\\\tat com.ebay.mmp.rrp.rrpsvc.resources.processors.RRPFlowProcessor.process(RRPFlowProcessor.java:93)\\\\n\\\\tat com.ebay.mmp.rrp.rrpsvc.resources.FlowResource.recoveryFlow(FlowResource.java:191)\\\\n\\\\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\\\n\\\\tat sun.refl\\\"]}],\\\"responseStatus\\\":\\\"BAD_REQUEST\\\",\\\"flow\\\":{\\\"flow_id\\\":5247965280,\\\"rrp_client_id\\\":\\\"RISK\\\",\\\"external_ref_unique_id\\\":\\\"277143193015\\\",\\\"external_ref_id\\\":\\\"5171576929\\\",\\\"order_id\\\":\\\"163054074580-1713719726006!20000177664643\\\",\\\"flow_name\\\":\\\"seller_refund_via_invoice_for_risk\\\",\\\"status\\\":\\\"FAILURE\\\",\\\"current_activity_id\\\":5248128656,\\\"activities\\\":[{\\\"activity_id\\\":5248128656,\\\"contract\\\":{\\\"contract_id\\\":\\\"5236671011\\\",\\\"contract_type\\\":\\\"REFUND\\\",\\\"contract_source\\\":\\\"RMS\\\",\\\"contract_status\\\":\\\"CANCELED\\\",\\\"parent_contract\\\":null,\\\"referencedContracts\\\":[],\\\"attributes\\\":[{\\\"name\\\":\\\"INVOICE_APP_TYPE\\\",\\\"value\\\":\\\"12\\\"},{\\\"name\\\":\\\"INVOICE_CHARGE_TYPE\\\",\\\"value\\\":\\\"396\\\"},{\\\"name\\\":\\\"INVOICE_CREDIT_REASON_CODE\\\",\\\"value\\\":\\\"147\\\"},{\\\"name\\\":\\\"FLOW_NAME\\\",\\\"value\\\":\\\"seller_refund_via_invoice_for_risk\\\"}],\\\"priceLines\\\":[{\\\"itemId\\\":\\\"163054074580\\\",\\\"transactionId\\\":\\\"1713719726006\\\",\\\"orderId\\\":null,\\\"amount\\\":{\\\"currency\\\":\\\"GBP\\\",\\\"value\\\":0.99},\\\"type\\\":\\\"ITEM_COST\\\"}],\\\"collections\\\":[],\\\"distributions\\\":[],\\\"requestedAmount\\\":{\\\"currency\\\":\\\"GBP\\\",\\\"value\\\":0.99},\\\"actualAmount\\\":null,\\\"client\\\":\\\"RISK\\\",\\\"rrpActivity\\\":5248128656,\\\"referencedId\\\":\\\"5236671011\\\"},\\\"status\\\":\\\"FAILURE\\\",\\\"amount\\\":{\\\"currency\\\":\\\"GBP\\\",\\\"value\\\":0.99},\\\"type\\\":\\\"REFUND_VIA_INVOICE\\\",\\\"transactions\\\":[],\\\"attributes\\\":[]}],\\\"links\\\":[]}}\": true,\n" +
            "\t\t\t\t\t\"Check if status code is 200\": false\n" +
            "\t\t\t\t},\n" +
            "\t\t\t\t{\n" +
            "\t\t\t\t\t\"200\": true,\n" +
            "\t\t\t\t\t\"5170841851\": true,\n" +
            "\t\t\t\t\t\"{\\\"responseStatus\\\":\\\"OK\\\",\\\"flow\\\":{\\\"flow_id\\\":5246548322,\\\"rrp_client_id\\\":\\\"RISK\\\",\\\"external_ref_unique_id\\\":\\\"271701953013\\\",\\\"external_ref_id\\\":\\\"5170841851\\\",\\\"order_id\\\":\\\"302683135029-1514682019020!200000174289665\\\",\\\"flow_name\\\":\\\"seller_refund_via_invoice_for_risk\\\",\\\"status\\\":\\\"SUCCESS\\\",\\\"current_activity_id\\\":5246708488,\\\"activities\\\":[{\\\"activity_id\\\":5246708488,\\\"contract\\\":{\\\"contract_id\\\":\\\"5235614276\\\",\\\"contract_type\\\":\\\"REFUND\\\",\\\"contract_source\\\":\\\"RMS\\\",\\\"contract_status\\\":\\\"SUCCESS\\\",\\\"parent_contract\\\":null,\\\"referencedContracts\\\":[{\\\"contract_id\\\":\\\"5229835709\\\",\\\"contract_type\\\":\\\"RECOUP\\\",\\\"contract_source\\\":\\\"RMS\\\",\\\"contract_status\\\":\\\"SUCCESS\\\",\\\"parent_contract\\\":null,\\\"referencedContracts\\\":[{\\\"contract_id\\\":\\\"302683135029-1514682019020!200000180286282\\\",\\\"contract_type\\\":\\\"PAYOUT\\\",\\\"contract_source\\\":\\\"OMS\\\",\\\"contract_status\\\":\\\"SUCCESS\\\",\\\"parent_contract\\\":null,\\\"referencedContracts\\\":[],\\\"attributes\\\":[{\\\"name\\\":\\\"FLOW_NAME\\\",\\\"value\\\":\\\"buyer_payout_for_ebp\\\"}],\\\"priceLines\\\":[],\\\"collections\\\":[],\\\"distributions\\\":[],\\\"requestedAmount\\\":{\\\"currency\\\":\\\"GBP\\\",\\\"value\\\":0.99},\\\"actualAmount\\\":{\\\"currency\\\":\\\"GBP\\\",\\\"value\\\":0.99},\\\"client\\\":\\\"EBP\\\",\\\"rrpActivity\\\":5227133339,\\\"referencedId\\\":\\\"302683135029-1514682019020!200000180286282\\\"}],\\\"attributes\\\":[{\\\"name\\\":\\\"INVOICE_APP_TYPE\\\",\\\"value\\\":\\\"12\\\"},{\\\"name\\\":\\\"INVOICE_CHARGE_TYPE\\\",\\\"value\\\":\\\"395\\\"},{\\\"name\\\":\\\"FLOW_NAME\\\",\\\"value\\\":\\\"recoup_via_invoice_for_risk\\\"}],\\\"priceLines\\\":[{\\\"itemId\\\":\\\"302683135029\\\",\\\"transactionId\\\":\\\"1514682019020\\\",\\\"orderId\\\":null,\\\"amount\\\":{\\\"currency\\\":\\\"GBP\\\",\\\"value\\\":0.99},\\\"type\\\":\\\"ITEM_COST\\\"}],\\\"collections\\\":[{\\\"attributes\\\":[],\\\"priceLines\\\":[],\\\"userId\\\":\\\"1720099993\\\",\\\"totalAmount\\\":null,\\\"referenceId\\\":null}],\\\"distributions\\\":[{\\\"attributes\\\":[],\\\"priceLines\\\":[],\\\"userId\\\":\\\"EBAY\\\",\\\"totalAmount\\\":null,\\\"referenceId\\\":null}],\\\"requestedAmount\\\":{\\\"currency\\\":\\\"GBP\\\",\\\"value\\\":0.99},\\\"actualAmount\\\":{\\\"currency\\\":\\\"GBP\\\",\\\"value\\\":0.99},\\\"client\\\":\\\"RISK\\\",\\\"rrpActivity\\\":5239061270,\\\"referencedId\\\":\\\"5229835709\\\"}],\\\"attributes\\\":[{\\\"name\\\":\\\"INVOICE_APP_TYPE\\\",\\\"value\\\":\\\"12\\\"},{\\\"name\\\":\\\"INVOICE_CHARGE_TYPE\\\",\\\"value\\\":\\\"396\\\"},{\\\"name\\\":\\\"INVOICE_CREDIT_REASON_CODE\\\",\\\"value\\\":\\\"147\\\"},{\\\"name\\\":\\\"FLOW_NAME\\\",\\\"value\\\":\\\"seller_refund_via_invoice_for_risk\\\"}],\\\"priceLines\\\":[{\\\"itemId\\\":\\\"302683135029\\\",\\\"transactionId\\\":\\\"1514682019020\\\",\\\"orderId\\\":null,\\\"amount\\\":{\\\"currency\\\":\\\"GBP\\\",\\\"value\\\":0.99},\\\"type\\\":\\\"ITEM_COST\\\"}],\\\"collections\\\":[],\\\"distributions\\\":[],\\\"requestedAmount\\\":{\\\"currency\\\":\\\"GBP\\\",\\\"value\\\":0.99},\\\"actualAmount\\\":{\\\"currency\\\":\\\"GBP\\\",\\\"value\\\":0.99},\\\"client\\\":\\\"RISK\\\",\\\"rrpActivity\\\":5246708488,\\\"referencedId\\\":\\\"5235614276\\\"},\\\"status\\\":\\\"SUCCESS\\\",\\\"amount\\\":{\\\"currency\\\":\\\"GBP\\\",\\\"value\\\":0.99},\\\"type\\\":\\\"REFUND_VIA_INVOICE\\\",\\\"transactions\\\":[{\\\"transaction_id\\\":5138399502,\\\"payment_ref_id\\\":\\\"239933427-11-0\\\",\\\"payment_ref_type\\\":\\\"PMT_TRANSACTION_ID\\\",\\\"status\\\":\\\"SUCCESS\\\",\\\"collection_user_id\\\":null,\\\"distribution_user_id\\\":null,\\\"amount\\\":{\\\"currency\\\":\\\"GBP\\\",\\\"value\\\":0.99}}],\\\"attributes\\\":[]}],\\\"links\\\":[]}}\": true,\n" +
            "\t\t\t\t\t\"Check if status code is 200\": true\n" +
            "\t\t\t\t},\n" +
            "\t\t\t\t{\n" +
            "\t\t\t\t\t\"400\": true,\n" +
            "\t\t\t\t\t\"5171746647\": true,\n" +
            "\t\t\t\t\t\"{\\\"errorMessage\\\":{\\\"error\\\":[{\\\"errorId\\\":400007,\\\"domain\\\":\\\"RRP\\\",\\\"subdomain\\\":\\\"RRP\\\",\\\"severity\\\":\\\"ERROR\\\",\\\"category\\\":\\\"APPLICATION\\\",\\\"message\\\":\\\"Validation Failed. - Depending data status is failure for 269739203016\\\",\\\"actionToTake\\\":\\\"CORRECTINPUTDATA\\\"}]},\\\"extension\\\":[{\\\"name\\\":\\\"stacktrace\\\",\\\"contentType\\\":\\\"text/plain\\\",\\\"any\\\":[\\\"com.ebay.mmp.rrp.core.exception.ValidateException: Depending data status is failure for 269739203016\\\\n\\\\tat com.ebay.mmp.rrp.core.action.premoneymovement.FindRefDataAction.findRefFlow(FindRefDataAction.java:229)\\\\n\\\\tat com.ebay.mmp.rrp.core.action.premoneymovement.FindRefDataAction.buildPaymentDetailEntity(FindRefDataAction.java:56)\\\\n\\\\tat com.ebay.mmp.rrp.core.activity.RrpActivity.executeRrpActivity(RrpActivity.java:92)\\\\n\\\\tat com.ebay.mmp.rrp.core.workflow.jsonconfig.WorkflowActivityConfig.executeActivity(WorkflowActivityConfig.java:121)\\\\n\\\\tat com.ebay.mmp.rrp.core.workflow.jsonconfig.WorkflowActivityConfig.execute(WorkflowActivityConfig.java:106)\\\\n\\\\tat com.ebay.mmp.rrp.core.workflow.jsonconfig.WorkflowConfig.execute(WorkflowConfig.java:35)\\\\n\\\\tat com.ebay.mmp.rrp.rrpsvc.resources.processors.RRPFlowProcessor.process(RRPFlowProcessor.java:93)\\\\n\\\\tat com.ebay.mmp.rrp.rrpsvc.resources.FlowResource.recoveryFlow(FlowResource.java:191)\\\\n\\\\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\\\n\\\\tat sun.refl\\\"]}],\\\"responseStatus\\\":\\\"BAD_REQUEST\\\",\\\"flow\\\":{\\\"flow_id\\\":5247964039,\\\"rrp_client_id\\\":\\\"RISK\\\",\\\"external_ref_unique_id\\\":\\\"277522321016\\\",\\\"external_ref_id\\\":\\\"5171746647\\\",\\\"order_id\\\":\\\"282395959920-1843483246018!270000178183343\\\",\\\"flow_name\\\":\\\"seller_refund_via_invoice_for_risk\\\",\\\"status\\\":\\\"FAILURE\\\",\\\"current_activity_id\\\":5248127412,\\\"activities\\\":[{\\\"activity_id\\\":5248127412,\\\"contract\\\":{\\\"contract_id\\\":\\\"5236670020\\\",\\\"contract_type\\\":\\\"REFUND\\\",\\\"contract_source\\\":\\\"RMS\\\",\\\"contract_status\\\":\\\"CANCELED\\\",\\\"parent_contract\\\":null,\\\"referencedContracts\\\":[],\\\"attributes\\\":[{\\\"name\\\":\\\"INVOICE_APP_TYPE\\\",\\\"value\\\":\\\"12\\\"},{\\\"name\\\":\\\"INVOICE_CHARGE_TYPE\\\",\\\"value\\\":\\\"396\\\"},{\\\"name\\\":\\\"INVOICE_CREDIT_REASON_CODE\\\",\\\"value\\\":\\\"147\\\"},{\\\"name\\\":\\\"FLOW_NAME\\\",\\\"value\\\":\\\"seller_refund_via_invoice_for_risk\\\"}],\\\"priceLines\\\":[{\\\"itemId\\\":\\\"282395959920\\\",\\\"transactionId\\\":\\\"1843483246018\\\",\\\"orderId\\\":null,\\\"amount\\\":{\\\"currency\\\":\\\"GBP\\\",\\\"value\\\":0.99},\\\"type\\\":\\\"ITEM_COST\\\"}],\\\"collections\\\":[],\\\"distributions\\\":[],\\\"requestedAmount\\\":{\\\"currency\\\":\\\"GBP\\\",\\\"value\\\":0.99},\\\"actualAmount\\\":null,\\\"client\\\":\\\"RISK\\\",\\\"rrpActivity\\\":5248127412,\\\"referencedId\\\":\\\"5236670020\\\"},\\\"status\\\":\\\"FAILURE\\\",\\\"amount\\\":{\\\"currency\\\":\\\"GBP\\\",\\\"value\\\":0.99},\\\"type\\\":\\\"REFUND_VIA_INVOICE\\\",\\\"transactions\\\":[],\\\"attributes\\\":[]}],\\\"links\\\":[]}}\": true,\n" +
            "\t\t\t\t\t\"Check if status code is 200\": false\n" +
            "\t\t\t\t},\n" +
            "\t\t\t\t{\n" +
            "\t\t\t\t\t\"400\": true,\n" +
            "\t\t\t\t\t\"5171651640\": true,\n" +
            "\t\t\t\t\t\"{\\\"errorMessage\\\":{\\\"error\\\":[{\\\"errorId\\\":400007,\\\"domain\\\":\\\"RRP\\\",\\\"subdomain\\\":\\\"RRP\\\",\\\"severity\\\":\\\"ERROR\\\",\\\"category\\\":\\\"APPLICATION\\\",\\\"message\\\":\\\"Validation Failed. - Depending data status is failure for 268962452010\\\",\\\"actionToTake\\\":\\\"CORRECTINPUTDATA\\\"}]},\\\"extension\\\":[{\\\"name\\\":\\\"stacktrace\\\",\\\"contentType\\\":\\\"text/plain\\\",\\\"any\\\":[\\\"com.ebay.mmp.rrp.core.exception.ValidateException: Depending data status is failure for 268962452010\\\\n\\\\tat com.ebay.mmp.rrp.core.action.premoneymovement.FindRefDataAction.findRefFlow(FindRefDataAction.java:229)\\\\n\\\\tat com.ebay.mmp.rrp.core.action.premoneymovement.FindRefDataAction.buildPaymentDetailEntity(FindRefDataAction.java:56)\\\\n\\\\tat com.ebay.mmp.rrp.core.activity.RrpActivity.executeRrpActivity(RrpActivity.java:92)\\\\n\\\\tat com.ebay.mmp.rrp.core.workflow.jsonconfig.WorkflowActivityConfig.executeActivity(WorkflowActivityConfig.java:121)\\\\n\\\\tat com.ebay.mmp.rrp.core.workflow.jsonconfig.WorkflowActivityConfig.execute(WorkflowActivityConfig.java:106)\\\\n\\\\tat com.ebay.mmp.rrp.core.workflow.jsonconfig.WorkflowConfig.execute(WorkflowConfig.java:35)\\\\n\\\\tat com.ebay.mmp.rrp.rrpsvc.resources.processors.RRPFlowProcessor.process(RRPFlowProcessor.java:93)\\\\n\\\\tat com.ebay.mmp.rrp.rrpsvc.resources.FlowResource.recoveryFlow(FlowResource.java:191)\\\\n\\\\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\\\n\\\\tat sun.refl\\\"]}],\\\"responseStatus\\\":\\\"BAD_REQUEST\\\",\\\"flow\\\":{\\\"flow_id\\\":5247963984,\\\"rrp_client_id\\\":\\\"RISK\\\",\\\"external_ref_unique_id\\\":\\\"277299829010\\\",\\\"external_ref_id\\\":\\\"5171651640\\\",\\\"order_id\\\":\\\"122821587294-1949928451002!30000168291299\\\",\\\"flow_name\\\":\\\"seller_refund_via_invoice_for_risk\\\",\\\"status\\\":\\\"FAILURE\\\",\\\"current_activity_id\\\":5248127357,\\\"activities\\\":[{\\\"activity_id\\\":5248127357,\\\"contract\\\":{\\\"contract_id\\\":\\\"5236669966\\\",\\\"contract_type\\\":\\\"REFUND\\\",\\\"contract_source\\\":\\\"RMS\\\",\\\"contract_status\\\":\\\"CANCELED\\\",\\\"parent_contract\\\":null,\\\"referencedContracts\\\":[],\\\"attributes\\\":[{\\\"name\\\":\\\"INVOICE_APP_TYPE\\\",\\\"value\\\":\\\"12\\\"},{\\\"name\\\":\\\"INVOICE_CHARGE_TYPE\\\",\\\"value\\\":\\\"396\\\"},{\\\"name\\\":\\\"INVOICE_CREDIT_REASON_CODE\\\",\\\"value\\\":\\\"147\\\"},{\\\"name\\\":\\\"FLOW_NAME\\\",\\\"value\\\":\\\"seller_refund_via_invoice_for_risk\\\"}],\\\"priceLines\\\":[{\\\"itemId\\\":\\\"122821587294\\\",\\\"transactionId\\\":\\\"1949928451002\\\",\\\"orderId\\\":null,\\\"amount\\\":{\\\"currency\\\":\\\"GBP\\\",\\\"value\\\":0.99},\\\"type\\\":\\\"ITEM_COST\\\"}],\\\"collections\\\":[],\\\"distributions\\\":[],\\\"requestedAmount\\\":{\\\"currency\\\":\\\"GBP\\\",\\\"value\\\":0.99},\\\"actualAmount\\\":null,\\\"client\\\":\\\"RISK\\\",\\\"rrpActivity\\\":5248127357,\\\"referencedId\\\":\\\"5236669966\\\"},\\\"status\\\":\\\"FAILURE\\\",\\\"amount\\\":{\\\"currency\\\":\\\"GBP\\\",\\\"value\\\":0.99},\\\"type\\\":\\\"REFUND_VIA_INVOICE\\\",\\\"transactions\\\":[],\\\"attributes\\\":[]}],\\\"links\\\":[]}}\": true,\n" +
            "\t\t\t\t\t\"Check if status code is 200\": false\n" +
            "\t\t\t\t},\n" +
            "\t\t\t\t{\n" +
            "\t\t\t\t\t\"400\": true,\n" +
            "\t\t\t\t\t\"5171994990\": true,\n" +
            "\t\t\t\t\t\"{\\\"errorMessage\\\":{\\\"error\\\":[{\\\"errorId\\\":400007,\\\"domain\\\":\\\"RRP\\\",\\\"subdomain\\\":\\\"RRP\\\",\\\"severity\\\":\\\"ERROR\\\",\\\"category\\\":\\\"APPLICATION\\\",\\\"message\\\":\\\"Validation Failed. - Depending data status is failure for 264493633013\\\",\\\"actionToTake\\\":\\\"CORRECTINPUTDATA\\\"}]},\\\"extension\\\":[{\\\"name\\\":\\\"stacktrace\\\",\\\"contentType\\\":\\\"text/plain\\\",\\\"any\\\":[\\\"com.ebay.mmp.rrp.core.exception.ValidateException: Depending data status is failure for 264493633013\\\\n\\\\tat com.ebay.mmp.rrp.core.action.premoneymovement.FindRefDataAction.findRefFlow(FindRefDataAction.java:229)\\\\n\\\\tat com.ebay.mmp.rrp.core.action.premoneymovement.FindRefDataAction.buildPaymentDetailEntity(FindRefDataAction.java:56)\\\\n\\\\tat com.ebay.mmp.rrp.core.activity.RrpActivity.executeRrpActivity(RrpActivity.java:92)\\\\n\\\\tat com.ebay.mmp.rrp.core.workflow.jsonconfig.WorkflowActivityConfig.executeActivity(WorkflowActivityConfig.java:121)\\\\n\\\\tat com.ebay.mmp.rrp.core.workflow.jsonconfig.WorkflowActivityConfig.execute(WorkflowActivityConfig.java:106)\\\\n\\\\tat com.ebay.mmp.rrp.core.workflow.jsonconfig.WorkflowConfig.execute(WorkflowConfig.java:35)\\\\n\\\\tat com.ebay.mmp.rrp.rrpsvc.resources.processors.RRPFlowProcessor.process(RRPFlowProcessor.java:93)\\\\n\\\\tat com.ebay.mmp.rrp.rrpsvc.resources.FlowResource.recoveryFlow(FlowResource.java:191)\\\\n\\\\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\\\n\\\\tat sun.refl\\\"]}],\\\"responseStatus\\\":\\\"BAD_REQUEST\\\",\\\"flow\\\":{\\\"flow_id\\\":5247977543,\\\"rrp_client_id\\\":\\\"RISK\\\",\\\"external_ref_unique_id\\\":\\\"272399587013\\\",\\\"external_ref_id\\\":\\\"5171994990\\\",\\\"order_id\\\":\\\"253604794406-0!90000170040418\\\",\\\"flow_name\\\":\\\"seller_refund_via_invoice_for_risk\\\",\\\"status\\\":\\\"FAILURE\\\",\\\"current_activity_id\\\":5248140943,\\\"activities\\\":[{\\\"activity_id\\\":5248140943,\\\"contract\\\":{\\\"contract_id\\\":\\\"5236680650\\\",\\\"contract_type\\\":\\\"REFUND\\\",\\\"contract_source\\\":\\\"RMS\\\",\\\"contract_status\\\":\\\"CANCELED\\\",\\\"parent_contract\\\":null,\\\"referencedContracts\\\":[],\\\"attributes\\\":[{\\\"name\\\":\\\"INVOICE_APP_TYPE\\\",\\\"value\\\":\\\"12\\\"},{\\\"name\\\":\\\"INVOICE_CHARGE_TYPE\\\",\\\"value\\\":\\\"396\\\"},{\\\"name\\\":\\\"INVOICE_CREDIT_REASON_CODE\\\",\\\"value\\\":\\\"147\\\"},{\\\"name\\\":\\\"FLOW_NAME\\\",\\\"value\\\":\\\"seller_refund_via_invoice_for_risk\\\"}],\\\"priceLines\\\":[{\\\"itemId\\\":\\\"253604794406\\\",\\\"transactionId\\\":\\\"0\\\",\\\"orderId\\\":null,\\\"amount\\\":{\\\"currency\\\":\\\"USD\\\",\\\"value\\\":0.99},\\\"type\\\":\\\"ITEM_COST\\\"}],\\\"collections\\\":[],\\\"distributions\\\":[],\\\"requestedAmount\\\":{\\\"currency\\\":\\\"USD\\\",\\\"value\\\":0.99},\\\"actualAmount\\\":null,\\\"client\\\":\\\"RISK\\\",\\\"rrpActivity\\\":5248140943,\\\"referencedId\\\":\\\"5236680650\\\"},\\\"status\\\":\\\"FAILURE\\\",\\\"amount\\\":{\\\"currency\\\":\\\"USD\\\",\\\"value\\\":0.99},\\\"type\\\":\\\"REFUND_VIA_INVOICE\\\",\\\"transactions\\\":[],\\\"attributes\\\":[]}],\\\"links\\\":[]}}\": true,\n" +
            "\t\t\t\t\t\"Check if status code is 200\": false\n" +
            "\t\t\t\t},\n" +
            "\t\t\t\t{\n" +
            "\t\t\t\t\t\"200\": true,\n" +
            "\t\t\t\t\t\"5171264078\": true,\n" +
            "\t\t\t\t\t\"{\\\"responseStatus\\\":\\\"OK\\\",\\\"flow\\\":{\\\"flow_id\\\":5246541915,\\\"rrp_client_id\\\":\\\"RISK\\\",\\\"external_ref_unique_id\\\":\\\"285237271019\\\",\\\"external_ref_id\\\":\\\"5171264078\\\",\\\"order_id\\\":\\\"263614714339-2219682356016!90000166500546\\\",\\\"flow_name\\\":\\\"seller_refund_via_invoice_for_risk\\\",\\\"status\\\":\\\"SUCCESS\\\",\\\"current_activity_id\\\":5246702070,\\\"activities\\\":[{\\\"activity_id\\\":5246702070,\\\"contract\\\":{\\\"contract_id\\\":\\\"5235608716\\\",\\\"contract_type\\\":\\\"REFUND\\\",\\\"contract_source\\\":\\\"RMS\\\",\\\"contract_status\\\":\\\"SUCCESS\\\",\\\"parent_contract\\\":null,\\\"referencedContracts\\\":[{\\\"contract_id\\\":\\\"5230262275\\\",\\\"contract_type\\\":\\\"RECOUP\\\",\\\"contract_source\\\":\\\"RMS\\\",\\\"contract_status\\\":\\\"SUCCESS\\\",\\\"parent_contract\\\":null,\\\"referencedContracts\\\":[{\\\"contract_id\\\":\\\"263614714339-2219682356016!90000180978379\\\",\\\"contract_type\\\":\\\"PAYOUT\\\",\\\"contract_source\\\":\\\"OMS\\\",\\\"contract_status\\\":\\\"SUCCESS\\\",\\\"parent_contract\\\":null,\\\"referencedContracts\\\":[],\\\"attributes\\\":[{\\\"name\\\":\\\"FLOW_NAME\\\",\\\"value\\\":\\\"buyer_payout_for_ebp\\\"}],\\\"priceLines\\\":[],\\\"collections\\\":[],\\\"distributions\\\":[],\\\"requestedAmount\\\":{\\\"currency\\\":\\\"GBP\\\",\\\"value\\\":0.99},\\\"actualAmount\\\":{\\\"currency\\\":\\\"GBP\\\",\\\"value\\\":0.99},\\\"client\\\":\\\"EBP\\\",\\\"rrpActivity\\\":5227761824,\\\"referencedId\\\":\\\"263614714339-2219682356016!90000180978379\\\"}],\\\"attributes\\\":[{\\\"name\\\":\\\"INVOICE_APP_TYPE\\\",\\\"value\\\":\\\"12\\\"},{\\\"name\\\":\\\"INVOICE_CHARGE_TYPE\\\",\\\"value\\\":\\\"395\\\"},{\\\"name\\\":\\\"FLOW_NAME\\\",\\\"value\\\":\\\"recoup_via_invoice_for_risk\\\"}],\\\"priceLines\\\":[{\\\"itemId\\\":\\\"263614714339\\\",\\\"transactionId\\\":\\\"2219682356016\\\",\\\"orderId\\\":null,\\\"amount\\\":{\\\"currency\\\":\\\"GBP\\\",\\\"value\\\":0.99},\\\"type\\\":\\\"ITEM_COST\\\"}],\\\"collections\\\":[{\\\"attributes\\\":[],\\\"priceLines\\\":[],\\\"userId\\\":\\\"1746174019\\\",\\\"totalAmount\\\":null,\\\"referenceId\\\":null}],\\\"distributions\\\":[{\\\"attributes\\\":[],\\\"priceLines\\\":[],\\\"userId\\\":\\\"EBAY\\\",\\\"totalAmount\\\":null,\\\"referenceId\\\":null}],\\\"requestedAmount\\\":{\\\"currency\\\":\\\"GBP\\\",\\\"value\\\":0.99},\\\"actualAmount\\\":{\\\"currency\\\":\\\"GBP\\\",\\\"value\\\":0.99},\\\"client\\\":\\\"RISK\\\",\\\"rrpActivity\\\":5239629162,\\\"referencedId\\\":\\\"5230262275\\\"}],\\\"attributes\\\":[{\\\"name\\\":\\\"INVOICE_APP_TYPE\\\",\\\"value\\\":\\\"12\\\"},{\\\"name\\\":\\\"INVOICE_CHARGE_TYPE\\\",\\\"value\\\":\\\"396\\\"},{\\\"name\\\":\\\"INVOICE_CREDIT_REASON_CODE\\\",\\\"value\\\":\\\"147\\\"},{\\\"name\\\":\\\"FLOW_NAME\\\",\\\"value\\\":\\\"seller_refund_via_invoice_for_risk\\\"}],\\\"priceLines\\\":[{\\\"itemId\\\":\\\"263614714339\\\",\\\"transactionId\\\":\\\"2219682356016\\\",\\\"orderId\\\":null,\\\"amount\\\":{\\\"currency\\\":\\\"GBP\\\",\\\"value\\\":0.99},\\\"type\\\":\\\"ITEM_COST\\\"}],\\\"collections\\\":[],\\\"distributions\\\":[],\\\"requestedAmount\\\":{\\\"currency\\\":\\\"GBP\\\",\\\"value\\\":0.99},\\\"actualAmount\\\":{\\\"currency\\\":\\\"GBP\\\",\\\"value\\\":0.99},\\\"client\\\":\\\"RISK\\\",\\\"rrpActivity\\\":5246702070,\\\"referencedId\\\":\\\"5235608716\\\"},\\\"status\\\":\\\"SUCCESS\\\",\\\"amount\\\":{\\\"currency\\\":\\\"GBP\\\",\\\"value\\\":0.99},\\\"type\\\":\\\"REFUND_VIA_INVOICE\\\",\\\"transactions\\\":[{\\\"transaction_id\\\":5138399518,\\\"payment_ref_id\\\":\\\"255588881-10-0\\\",\\\"payment_ref_type\\\":\\\"PMT_TRANSACTION_ID\\\",\\\"status\\\":\\\"SUCCESS\\\",\\\"collection_user_id\\\":null,\\\"distribution_user_id\\\":null,\\\"amount\\\":{\\\"currency\\\":\\\"GBP\\\",\\\"value\\\":0.99}}],\\\"attributes\\\":[]}],\\\"links\\\":[]}}\": true,\n" +
            "\t\t\t\t\t\"Check if status code is 200\": true\n" +
            "\t\t\t\t}\n" +
            "\t\t\t]";

    public static void main(String[] args) throws IOException {
        String s = JsonToObject.jsonstring.replaceAll("\t", "").replaceAll("//////", "");

        List<HashMap> hashMaps = com.alibaba.fastjson.JSONArray.parseArray(s, HashMap.class);

        List<JsonDomain> jsonDomains = new ArrayList<>();

        for (HashMap hashMap : hashMaps) {

            JsonDomain jsonDomain = new JsonDomain();
            String s1 = hashMap.toString();
            String flowid = getOneStringByRegex(s1, "\"flow_id\":(.*?),");
            String errorId = getOneStringByRegex(s1, "\"errorId\":(.*?),");
            String external_ref_unique_id = getOneStringByRegex(s1, "\"external_ref_unique_id\":(.*?),");
            String rrp_client_id = getOneStringByRegex(s1, "\"rrp_client_id\":(.*?),");

            jsonDomain.setExternal_ref_unique_id(external_ref_unique_id);
            jsonDomain.setErrorId(errorId);
            jsonDomain.setRrp_client_id(rrp_client_id);
            jsonDomain.setFlowId(flowid);

            jsonDomains.add(jsonDomain);
        }

        for (JsonDomain jsonDomain : jsonDomains) {
            System.err.println(jsonDomain);
        }

        String csvFile = "/Users/xianggu/abc.csv";
        FileWriter writer = new FileWriter(csvFile);

        FileOutputStream out = new FileOutputStream(csvFile);

        for (JsonDomain jsonDomain : jsonDomains) {

        }


        writer.flush();
        writer.close();


    }

    public static String getOneStringByRegex(String resultHTML, String regex) {
        Pattern p = Pattern.compile(regex);
        Matcher m = p.matcher(resultHTML);
        String result = null;
        while (m.find()) {
            result = m.group(1);
        }
        return result;
    }
}